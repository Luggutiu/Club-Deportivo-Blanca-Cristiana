{% extends "base_admin.html" %}
{% block title %}Panel de Administraci√≥n{% endblock %}

{% block content %}
<div class="admin-container">
  <h2>Panel de Administraci√≥n</h2>

  <!-- Publicaciones -->
  <div class="publicaciones-section">
    <h3>Publicaciones recientes</h3>
    <a href="/admin/publicar-post" class="btn-agregar" aria-label="Crear nueva publicaci√≥n">‚ûï Nueva publicaci√≥n</a>
    {% if publicaciones %}
      <ul class="publicaciones-list">
        {% for post in publicaciones %}
          <li class="publicacion-item">
            <span>{{ post.titulo or "Sin t√≠tulo" }}</span>
            <small>ID: {{ post.id }}</small>
            <div class="acciones-post">
              <form method="post" action="/admin/eliminar-post/{{ post.id }}" style="display:inline;">
                <button type="submit" class="btn-eliminar" onclick="return confirm('¬øEliminar esta publicaci√≥n?')" aria-label="Eliminar publicaci√≥n">üóëÔ∏è Eliminar</button>
              </form>
              <a href="/admin/editar-post/{{ post.id }}" class="btn-editar" aria-label="Editar publicaci√≥n">‚úèÔ∏è Editar</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="no-items">No hay publicaciones a√∫n.</p>
    {% endif %}
  </div>

  <!-- Horarios -->
  <div class="horarios-section">
    <h3>Horarios registrados</h3>
    <a href="/admin/gestionar-horarios" class="btn-agregar" aria-label="Agregar nuevo horario">‚ûï Agregar nuevo horario</a>
    {% if horarios %}
      <ul class="horarios-list">
        {% for horario in horarios %}
          <li class="horario-item">
            <strong>{{ horario.dia }}:</strong> {{ horario.hora_inicio }} - {{ horario.hora_fin }} ‚Üí {{ horario.actividad }}
            {% if horario.publicado %}
              <span class="badge-publicado">Publicado</span>
            {% endif %}
            <div class="acciones-horario">
              <a href="/admin/editar-horario/{{ horario.id }}" class="btn-editar" aria-label="Editar horario">‚úèÔ∏è Editar</a>
              <a href="/admin/eliminar-horario/{{ horario.id }}" class="btn-eliminar" onclick="return confirm('¬øEliminar este horario?')" aria-label="Eliminar horario">üóëÔ∏è Eliminar</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="no-items">No hay horarios registrados.</p>
    {% endif %}
  </div>

  <!-- Secciones informativas -->
  <div class="secciones-section">
    <h3>Secciones informativas</h3>
    <ul class="secciones-list">
      {% for titulo in ['mision', 'vision', 'quienes-somos', 'contacto'] %}
        <li class="seccion-item">
          <strong>{{ titulo|replace('-', ' ')|title }}</strong>
          <a href="/admin/editar/{{ titulo }}" class="btn-editar" aria-label="Editar secci√≥n">‚úèÔ∏è Editar</a>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
  .admin-container {
    padding: 30px;
    background-color: #1c1c1c;
    border-radius: 15px;
    color: #f2f2f2;
  }

  h2, h3 {
    color: #ff91a4;
    margin-bottom: 15px;
  }

  .publicaciones-list,
  .horarios-list,
  .secciones-list {
    list-style: none;
    padding: 0;
  }

  .publicacion-item,
  .horario-item,
  .seccion-item {
    background: #2e2e2e;
    margin-bottom: 10px;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #ff5e78;
  }

  .acciones-post,
  .acciones-horario {
    margin-top: 8px;
  }

  .btn-eliminar, .btn-editar, .btn-agregar {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 8px;
    color: white;
    font-weight: bold;
    text-decoration: none;
    transition: background 0.3s;
    margin-right: 8px;
  }

  .btn-eliminar {
    background-color: #e74c3c;
  }

  .btn-eliminar:hover {
    background-color: #c0392b;
  }

  .btn-editar {
    background-color: #ff41b4;
  }

  .btn-editar:hover {
    background-color: #ff91a4;
  }

  .btn-agregar {
    background-color: #25d366;
    margin-bottom: 10px;
  }

  .btn-agregar:hover {
    background-color: #1ebe5d;
  }

  .badge-publicado {
    background-color: #25d366;
    color: #fff;
    padding: 2px 8px;
    font-size: 0.8rem;
    border-radius: 5px;
    margin-left: 10px;
  }

  .no-items {
    color: #bbb;
    font-style: italic;
  }
</style>
{% endblock %}
